C51 COMPILER V9.60.7.0   MAIN                                                              01/23/2026 02:05:55 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE main\main.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\include) DEBUG OBJECTEXTEN
                    -D PRINT(.\Listings\main.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include "main.h"
   2          
   3          
   4          
   5          typedef struct {
   6              uint8_t period;
   7              uint8_t cnt;
   8          } timer8_t;
   9          
  10          typedef struct {
  11              uint16_t period;
  12              uint16_t cnt;
  13              bit flag;
  14          } timer16_t;
*** ERROR C150 IN LINE 14 OF main\main.c: 'flag': bit member in struct/union
  15          
  16          
  17          volatile timer8_t led_timer = {10, 0};
  18          volatile timer16_t task_500ms  = {500, 0};
  19          
  20          
  21          
  22          
  23          void main()
  24          {
  25   1          boot_init();
  26   1      
  27   1          while (1) {
  28   2              if (led_timer.cnt == led_timer.period) {
  29   3                  led_timer.cnt = 0;
  30   3                  led_display();
  31   3              }
  32   2      
  33   2             if (task_500ms.cnt == task_500ms.period) {
  34   3                  task_500ms.cnt = 0;
  35   3                  led_task();
  36   3             }
  37   2          }
  38   1      }
  39          
  40          
  41          
  42          void Timer1_Isr(void) interrupt 3
  43          {
  44   1          if (led_timer.cnt < led_timer.period) {
  45   2              led_timer.cnt++;
  46   2          }
  47   1      
  48   1         
  49   1      
  50   1      }
  51          
  52          
  53          void led_task()
C51 COMPILER V9.60.7.0   MAIN                                                              01/23/2026 02:05:55 PAGE 2   

  54          {
  55   1          static int8_t i;
  56   1          static int8_t toward = 1;
  57   1      
  58   1          led_set(i, toward);
  59   1      
  60   1          if (toward) {
  61   2              i++;
  62   2              if (i == 8) {
  63   3                  i = 7;
  64   3                  toward = 0;
  65   3              }
  66   2          }
  67   1          else {
  68   2              i--;
  69   2              if (i == -1) {
  70   3                  i = 0;
  71   3                  toward = 1;
  72   3              }
  73   2          }
  74   1          
  75   1      
  76   1      }
  77          
  78          
  79          // 0 1 2 3 4 5 6 7
  80          //   @   @   @   @
  81          void led_task1()
  82          {
  83   1          static int8_t i;
  84   1          static int8_t toward = 1;
  85   1      
  86   1          led_set(i, toward);
  87   1      
  88   1          if (toward) {
  89   2              i = i + 2;
  90   2              if (i == 8) {
  91   3                  toward = 0;
  92   3              }
  93   2          }
  94   1          else {
  95   2              i = i - 2;
  96   2              if (i == -2) {
  97   3                  toward = 1;
  98   3              }
  99   2          }
 100   1      }

C51 COMPILATION COMPLETE.  0 WARNING(S),  1 ERROR(S)
