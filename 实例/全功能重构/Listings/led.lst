C51 COMPILER V9.60.7.0   LED                                                               12/11/2025 18:04:12 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE LED
OBJECT MODULE PLACED IN .\Objects\led.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE main\led.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\include\) DEBUG OBJECTEXTEN
                    -D PRINT(.\Listings\led.lst) TABS(2) OBJECT(.\Objects\led.obj)

line level    source

   1          /**
   2           * @file led.c
   3           * @brief LED ä½å›¾ç¼“å†²ä¸æ˜¾ç¤ºåˆ·æ–°æ¨¡å—
   4           * @details æä¾› 8 ä½ LED æ˜¾ç¤ºç¼“å†²ï¼ˆled[]ï¼‰å’Œé€ä½åˆ·æ–°å‡½æ•° led_display()ã€‚
   5           * @date 2025-12-09
   6           */
   7          
   8          #include "led.h"
*** ERROR C127 IN LINE 6 OF .\include\led.h: 'led_value': invalid storage class
*** ERROR C132 IN LINE 7 OF .\include\led.h: 'led_display': not in formal parameter list
*** ERROR C132 IN LINE 8 OF .\include\led.h: '_led_set': not in formal parameter list
   9          
  10          /**
  11           * @brief LED æ˜¾ç¤ºç¼“å†²
  12           * @details æ¯ä¸ªå…ƒç´ è¡¨ç¤ºå¯¹åº”ä½æ˜¯å¦ç‚¹äº®ï¼ˆ0=ç­ï¼Œé0=äº®ï¼‰ï¼Œ
  13           *          led_display() ä¼šæ ¹æ®è¯¥ç¼“å†²æ›´æ–°ç‰©ç† IOã€‚
  14           */
  15          uint8_t led_value[8] = {0, 0, 0, 0, 0, 0, 0, 0};
*** ERROR C244 IN LINE 15 OF main\led.c: 'led_value': can't initialize, bad type or class
*** ERROR C132 IN LINE 15 OF main\led.c: 'led_value': not in formal parameter list
  16          
  17          /**
  18           * @brief LED é€ä½åˆ·æ–°æ˜¾ç¤ºå‡½æ•°
  19           * @details æœ¬å‡½æ•°ä½¿ç”¨é™æ€å±€éƒ¨å˜é‡ç»´æŠ¤å½“å‰æ‰«æä½å’Œä¸´æ—¶çŠ¶æ€ï¼š
  20           *          - i: å½“å‰æ‰«æä½ç´¢å¼•ï¼ˆ0..7ï¼‰
  21           *          - temp: å½“å‰è¾“å‡ºä½æ©ç ç¼“å­˜
  22           *          - last: ä¸Šä¸€æ¬¡è¾“å‡ºå€¼ï¼Œç”¨äºé¿å…ä¸å¿…è¦çš„ IO æ›´æ–°
  23           *
  24           *          æ¯æ¬¡è°ƒç”¨ä¼šå¤„ç†ä¸€ä½çš„æ˜¾ç¤ºï¼Œå»ºè®®ç”±å‘¨æœŸæ€§ä¸­æ–­æˆ–ä¸»å¾ªç¯é¢‘ç¹è°ƒç”¨ä»¥ç»´æ
             -Œç¨³å®šæ˜¾ç¤ºã€‚
  25           *
  26           * @note è¾“å‡ºåˆ° P0 ä¹‹å‰å¯¹ temp å–åï¼ˆ~tempï¼‰ä»¥åŒ¹é…ç¡¬ä»¶é©±åŠ¨ææ€§ï¼›éšåé€šè¿‡ latch(4)/
             -latch(0) å®Œæˆé”å­˜ã€‚
  27           * @return void
  28           */
  29          void led_display()
  30          {
*** ERROR C132 IN LINE 30 OF main\led.c: 'led_display': not in formal parameter list
*** ERROR C141 IN LINE 30 OF main\led.c: syntax error near '{', expected ';'
  31              static uint8_t i;
*** ERROR C136 IN LINE 31 OF main\led.c: 'i': 'void' on variable
*** ERROR C131 IN LINE 31 OF main\led.c: 'i': duplicate function-parameter
  32              static uint8_t temp;
*** ERROR C127 IN LINE 32 OF main\led.c: 'temp': invalid storage class
  33              static uint8_t last = 0xFF;
*** ERROR C127 IN LINE 33 OF main\led.c: 'last': invalid storage class
  34          
  35              if (led_value[i]) {
*** ERROR C141 IN LINE 35 OF main\led.c: syntax error near 'if', expected 'hdata'
*** ERROR C202 IN LINE 35 OF main\led.c: 'i': undefined identifier
*** ERROR C136 IN LINE 35 OF main\led.c: invalid dimension size: [0]
*** ERROR C129 IN LINE 35 OF main\led.c: missing ';' before '{'
  36                  temp = temp | (0x01 << i);
  37              } else {
C51 COMPILER V9.60.7.0   LED                                                               12/11/2025 18:04:12 PAGE 2   

  38                  temp = temp & ~(0x01 << i);
  39              }
  40          
  41              if (last != temp) {
  42                  P0 = ~temp;
  43                  latch(4);
  44                  latch(0);
  45                  last = temp;
  46              }
  47          
  48              i++;
  49              if (i == 8) {
  50                  i = 0;
  51              }
  52          }
  53          
  54          
  55          void led_set(uint8_t position, bit value)
  56          {
  57              led_value[position] = value;
  58          }

C51 COMPILATION COMPLETE.  0 WARNING(S),  15 ERROR(S)
