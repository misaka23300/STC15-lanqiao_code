# 文档

## boot文件

boot文件有几个函数,执行主要功能执行前的硬件初始化,复位各种元器件,配置需要的定时器.

### void boot_init()

这个函数配置了GPIO的工作模式,也就是标准输入输出口.

> 你有没有发现,iic的两个引脚`SCL` `SDA` 需要开漏输出，并需要上拉电阻,为什么51单片机的标准输入输出模式可以兼容开漏输出呢?

配置GPIO之后,通过调用函数的方式配置定时器,定时器的函数会在此函数之后写.

### 定时器函数

STC15F2K60S2有3个定时器/计数器,

定时器0可以引发P34口的中断,可以用于测量ne555的输出频率.

定时器2可以配置串口,引发串口中断.

你可以使用stc-isp的工具来配置定时器/计数器,也支持配置串口.

### uchar batch()

配置了38译码器和锁存器,可直接传参来选择调用哪个硬件运行.

## 调用

boot.c中的函数在main.c的while 循环调用.